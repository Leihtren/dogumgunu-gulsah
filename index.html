<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ä°YÄ° KÄ° DOÄDUN GÃœLÅAH!!!!!!!!!!</title>
<style>
  <img src="cute.gif" style="width:80px; height:auto; border-radius:10px;">
  :root{
    --bg1: #ffeef6;
    --bg2: #ffd8ec;
    --accent: #ff90c3;
    --text: #3b1f2b;
  }
  html,body{height:100%;margin:0;font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial; color:var(--text)}
  body{
    background: radial-gradient(circle at 10% 10%, #fff0fa 0%, rgba(255,240,250,0.9) 20%),
                linear-gradient(135deg, var(--bg1) 0%, var(--bg2) 100%);
    display:flex;align-items:center;justify-content:center; padding:32px;
  }
  .card{
    width:100%; max-width:980px; border-radius:20px; padding:28px;
    box-shadow: 0 20px 50px rgba(200,120,180,0.12);
    background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.35));
    position:relative; overflow:hidden;
  }

  header{
    display:flex; align-items:center; gap:18px; flex-wrap:wrap;
  }
  h1{
    margin:0; font-size:36px; letter-spacing:1px; color:#9b0b58;
    text-shadow: 0 2px 0 rgba(255,255,255,0.6);
  }

  /* SVG face container */
  .face{
    width:72px; height:72px; flex:0 0 72px;
  }

  .top-row{
    display:flex; align-items:center; justify-content:space-between; gap:12px;
  }

  .main-area{
    display:grid; grid-template-columns: 1fr 380px; gap:20px; margin-top:18px;
  }
  .left{
    padding:18px; border-radius:14px;
    background: linear-gradient(180deg, rgba(255,255,255,0.45), rgba(255,240,250,0.2));
    box-shadow: inset 0 2px 8px rgba(255,255,255,0.5);
    min-height:420px;
  }
  .right{
    padding:18px; border-radius:14px;
    background: linear-gradient(180deg, rgba(255,255,255,0.4), rgba(255,248,251,0.1));
    min-height:420px;
    display:flex;flex-direction:column;align-items:center;gap:12px;
  }

  label{display:block;font-size:13px;margin-bottom:6px}
  input[type="date"], input[type="text"]{
    width:100%; padding:10px 12px; border-radius:10px; border:none; box-shadow:inset 0 1px 0 rgba(0,0,0,0.03);
    font-size:15px;
  }
  .btn{
    display:inline-block;padding:10px 14px;border-radius:12px;background:linear-gradient(180deg,var(--accent),#ff61a3);
    color:white;font-weight:700;border:none;cursor:pointer;margin-top:8px;
    box-shadow: 0 8px 18px rgba(255,90,150,0.18);
  }

  .counter{
    margin-top:18px;padding:14px;border-radius:12px;background:rgba(255,255,255,0.55);
    font-size:18px; line-height:1.6; text-align:center;
  }
  .big-num{font-weight:800;font-size:22px;color:#7a073e}

  .message{
    margin-top:12px;font-weight:700;color:#7a073e;text-align:center;font-size:18px;
  }

  /* right area small decorations */
  .chibi{
    width:140px;height:140px;border-radius:18px;padding:8px; display:flex; align-items:center; justify-content:center;
    background: linear-gradient(135deg,#fff6fb,#ffeaf6);
    box-shadow: 0 8px 20px rgba(150,60,120,0.08);
  }
  <img src="iskender.png" style="width:160px; border-radius:14px; margin-bottom:10px;">
  .iskender{font-size:40px;margin-top:6px}

  /* falling sweets */
  .falling-wrap{position:absolute; inset:0; pointer-events:none; overflow:hidden}
  .sweet{
    position:absolute; top:-80px; width:26px;height:26px; opacity:0.95;
    animation: fall linear infinite;
  }
  @keyframes fall{
    to { transform: translateY(110vh) rotate(360deg); }
  }

  /* confetti */
  .confetti-piece{
    position:absolute; top:-10px; width:10px;height:16px; opacity:0.95; transform-origin:center;
    animation: confetti-fall linear infinite;
  }
  @keyframes confetti-fall{
    to { transform: translateY(110vh) rotate(720deg); }
  }

  footer{margin-top:16px;font-size:13px;color:#6b4052;display:flex;justify-content:space-between;align-items:center}
  .note{font-size:13px;color:#6b4052}
  .small{
    font-size:12px;color:#5b3750; opacity:0.9;
  }

  /* responsive */
  @media (max-width:900px){
    .main-area{grid-template-columns:1fr; padding-bottom:12px}
    .right{order:2}
  }

</style>
</head>
<body>
  <div class="card" role="main">
    <div class="falling-wrap" id="fallingWrap" aria-hidden="true"></div>

    <header class="top-row">
      <div style="display:flex;align-items:center;gap:12px">
        <h1>Ä°YÄ° KÄ° DOÄDUN GÃœLÅAH!!!!!!!!!!</h1>
        <!-- Red screaming face SVG -->
        <div class="face" aria-hidden="true">
          <svg viewBox="0 0 100 100" width="100%" height="100%">
            <defs>
              <radialGradient id="g1" cx="30%" cy="20%">
                <stop offset="0%" stop-color="#ff8aa6"/>
                <stop offset="100%" stop-color="#ff3b69"/>
              </radialGradient>
            </defs>
            <circle cx="50" cy="50" r="48" fill="url(#g1)"/>
            <ellipse cx="37" cy="40" rx="6" ry="8" fill="#fff"/>
            <ellipse cx="63" cy="40" rx="6" ry="8" fill="#fff"/>
            <path d="M30 64 Q50 85 70 64" stroke="#3a0715" stroke-width="4" fill="none" stroke-linecap="round"/>
            <path d="M50 54 L42 68 L58 68 Z" fill="#3a0715"/>
          </svg>
        </div>
      </div>

      <div style="text-align:right">
        <div class="small">SayfayÄ± GitHub Pages'e yÃ¼kleyip linki gÃ¶nder: doÄŸum tarihi paramÄ± ile otomatik aÃ§Ä±lÄ±r.</div>
      </div>
    </header>

    <div class="main-area" role="region" aria-label="DoÄŸum gÃ¼nÃ¼ kutlama alanÄ±">
      <div class="left">
        <div style="display:flex;align-items:center;gap:12px;justify-content:space-between;flex-wrap:wrap">
          <div style="flex:1">
            <label>DoÄŸum adÄ± (opsiyonel)</label>
            <input type="text" id="nameInput" placeholder="GÃ¼lÅŸah" value="GÃ¼lÅŸah">
          </div>
          <div style="width:220px">
            <label>DoÄŸum tarihi</label>
            <input type="date" id="birthInput" aria-label="DoÄŸum tarihi giriniz">
            <button class="btn" id="calcBtn">Hesapla & Kutla ğŸ‰</button>
          </div>
        </div>

        <div id="youtubeArea" style="margin-top:16px">
          <label>Youtube ÅŸarkÄ± linki (opsiyonel)</label>
          <input type="text" id="ytInput" placeholder="YouTube video linkini yapÄ±ÅŸtÄ±r (Ã¶rnek: https://www.youtube.com/watch?v=XXX)">
          <div style="margin-top:10px">
            <button class="btn" id="applyYt">ÅarkÄ±yÄ± yÃ¼kle</button>
            <button class="btn" id="muteBtn" style="background:#b38ea0">Ses Kapat/AÃ§</button>
          </div>
          <div id="ytFrameWrap" style="margin-top:12px"></div>
        </div>

        <div class="counter" id="counterBox" aria-live="polite" style="display:none">
          <div id="counterText" style="font-size:20px"></div>
          <div class="message" id="slogan" style="display:none">sÃ¼redir dÃ¼nya senin sayende dÃ¶nÃ¼yor</div>
        </div>

      </div>

      <aside class="right" aria-label="Dekor ve hediye alanÄ±">
        <div class="chibi" title="tatlÄ± chibi minator">
          <!-- Simple cute chibi SVG -->
          <svg viewBox="0 0 120 120" width="120" height="120" role="img" aria-hidden="true">
            <defs>
              <linearGradient id="hair" x1="0" x2="1"><stop offset="0" stop-color="#ffd7e8"/><stop offset="1" stop-color="#ffb6d1"/></linearGradient>
            </defs>
            <rect x="6" y="18" width="108" height="84" rx="18" fill="url(#hair)"/>
            <circle cx="44" cy="54" r="6" fill="#3b1f2b"/>
            <circle cx="76" cy="54" r="6" fill="#3b1f2b"/>
            <path d="M44 78 Q60 92 76 78" stroke="#7a073e" stroke-width="3" fill="none" stroke-linecap="round"/>
            <rect x="42" y="92" width="36" height="10" rx="5" fill="#ff90c3"/>
          </svg>
        </div>

        <div style="text-align:center">
          <div class="iskender">ğŸ½ï¸ Ä°skender</div>
          <div class="small" style="margin-top:6px">En sevdiÄŸi lezzet burada ğŸ‘€</div>
        </div>

        <div style="margin-top:12px;text-align:center">
          <div class="small">Sana Ã¶zel sÃ¼rpriz not: <strong id="nameShow">GÃ¼lÅŸah</strong></div>
        </div>

        <div style="margin-top:auto;text-align:center" aria-hidden="true">
          <div class="small">Link oluÅŸturmak iÃ§in: <code>?birth=YYYY-MM-DD</code></div>
          <div class="small">Ã–rnek: <code>https://kullanici.github.io/repo/?birth=1998-04-23</code></div>
        </div>
      </aside>
    </div>

    <footer>
      <div class="note">HazÄ±r Ã§Ä±ktÄ± â€¢ Tek dosya â€¢ Pastel pembe tema</div>
      <div class="small">Gral tarafÄ±ndan hazÄ±rlandÄ± â€” Rago'ya Ã¶zel</div>
    </footer>

  </div>

<script>
  // Utility: parse URL param birth=YYYY-MM-DD
  function getParam(name){
    const url = new URL(location.href);
    return url.searchParams.get(name);
  }

  const birthInput = document.getElementById('birthInput');
  const nameInput = document.getElementById('nameInput');
  const nameShow = document.getElementById('nameShow');
  const calcBtn = document.getElementById('calcBtn');
  const counterBox = document.getElementById('counterBox');
  const counterText = document.getElementById('counterText');
  const slogan = document.getElementById('slogan');
  const ytInput = document.getElementById('ytInput');
  const applyYt = document.getElementById('applyYt');
  const ytFrameWrap = document.getElementById('ytFrameWrap');
  const muteBtn = document.getElementById('muteBtn');

  // If birth param exists, prefill and auto-calc
  const birthParam = getParam('birth');
  if(birthParam){
    birthInput.value = birthParam;
    // optionally get name param too
    const n = getParam('name');
    if(n) { nameInput.value = decodeURIComponent(n); nameShow.textContent = nameInput.value; }
    setTimeout(()=> runCalculation(), 350);
  }

  // Extract YouTube ID
  function extractYouTubeID(url){
    if(!url) return null;
    try{
      const u = new URL(url);
      if(u.hostname.includes('youtu.be')) return u.pathname.slice(1);
      if(u.searchParams.get('v')) return u.searchParams.get('v');
      // last part of path sometimes
      const parts = u.pathname.split('/');
      return parts[parts.length-1] || null;
    }catch(e){
      return null;
    }
  }

  let currentPlayer = null;
  let playerMuted = false;

  applyYt.addEventListener('click', function(){
    const id = extractYouTubeID(ytInput.value.trim());
    if(!id){
      ytFrameWrap.innerHTML = '<div class="small" style="color:#7a073e">GeÃ§erli bir YouTube linki giriniz.</div>';
      return;
    }
    // embed with autoplay allowed (may be blocked by browser)
    ytFrameWrap.innerHTML = '<iframe id="ytiframe" width="100%" height="200" src="https://www.youtube.com/embed/'+id+'?autoplay=1&controls=1&rel=0&showinfo=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>';
  });

  muteBtn.addEventListener('click', function(){
    const iframe = document.getElementById('ytiframe');
    if(!iframe) return;
    // We can't control cross-origin iframe mute reliably without YouTube Player API; toggle by re-embedding with &mute=1
    const src = iframe.src;
    if(!playerMuted){
      iframe.src = src + (src.includes('mute=1') ? '' : '&mute=1');
      playerMuted = true;
      muteBtn.textContent = 'Ses AÃ§';
      muteBtn.style.background = '#b38ea0';
    } else {
      iframe.src = src.replace('&mute=1','');
      playerMuted = false;
      muteBtn.textContent = 'Ses Kapat/AÃ§';
      muteBtn.style.background = '#b38ea0';
    }
  });

  calcBtn.addEventListener('click', runCalculation);
  nameInput.addEventListener('input', ()=> nameShow.textContent = nameInput.value || 'GÃ¼lÅŸah');

  // Falling sweets generator
  const fallingWrap = document.getElementById('fallingWrap');
  const sweets = ['ğŸ’–','ğŸ¬','ğŸ­','ğŸ«','ğŸ°','ğŸ§','ğŸ©','ğŸ“'];
  function spawnSweet(){
    const el = document.createElement('div');
    const ch = sweets[Math.floor(Math.random()*sweets.length)];
    el.className = Math.random()>0.6 ? 'confetti-piece' : 'sweet';
    el.style.left = Math.floor(Math.random()*100) + 'vw';
    el.style.fontSize = (12 + Math.random()*28) + 'px';
    el.style.opacity = 0.8 + Math.random()*0.2;
    const dur = 7 + Math.random()*7;
    el.style.animationDuration = dur + 's';
    el.textContent = ch;
    fallingWrap.appendChild(el);
    // Cleanup after done
    setTimeout(()=> {
      el.remove();
    }, dur*1000 + 800);
  }
  // continuous spawn
  setInterval(spawnSweet, 600);

  // Calculation: elapsed from birth to now in years, months, weeks, days, hours, minutes, seconds
  function calculateElapsed(birthDate, nowDate){
    // Ensure birthDate <= nowDate
    if(birthDate > nowDate) return null;
    // compute years and months
    let y = nowDate.getFullYear() - birthDate.getFullYear();
    let m = nowDate.getMonth() - birthDate.getMonth();
    let d = nowDate.getDate() - birthDate.getDate();
    let h = nowDate.getHours() - birthDate.getHours();
    let min = nowDate.getMinutes() - birthDate.getMinutes();
    let s = nowDate.getSeconds() - birthDate.getSeconds();

    if(s < 0){ s += 60; min -= 1; }
    if(min < 0){ min += 60; h -= 1; }
    if(h < 0){ h += 24; d -= 1; }
    if(d < 0){
      // borrow days from previous month
      const prevMonth = new Date(nowDate.getFullYear(), nowDate.getMonth(), 0); // last day of previous month
      d += prevMonth.getDate();
      m -= 1;
    }
    if(m < 0){ m += 12; y -= 1; }

    // Now compute total days difference to get weeks and remaining days
    // Compute difference in milliseconds rounded down
    const msDiff = nowDate - birthDate;
    const totalSeconds = Math.floor(msDiff/1000);
    const totalDays = Math.floor(totalSeconds / (3600*24));
    const weeks = Math.floor(totalDays / 7);
    const remainingDaysAfterWeeks = totalDays - (weeks * 7);

    return {
      years: y,
      months: m,
      weeks: weeks,
      days: remainingDaysAfterWeeks,
      hours: h,
      minutes: min,
      seconds: s,
      totalSeconds: totalSeconds
    };
  }

  let liveInterval = null;

  function runCalculation(){
    const bval = birthInput.value;
    if(!bval){
      alert('LÃ¼tfen doÄŸum tarihini seÃ§.');
      return;
    }
    const birthDate = new Date(bval + 'T00:00:00');
    if(isNaN(birthDate)) {
      alert('GeÃ§ersiz tarih.');
      return;
    }
    const name = nameInput.value || 'GÃ¼lÅŸah';
    nameShow.textContent = name;

    counterBox.style.display = 'block';
    slogan.style.display = 'none';

    // clear previous interval
    if(liveInterval) clearInterval(liveInterval);

    // update every 1s
    function update(){
      const now = new Date();
      const elapsed = calculateElapsed(birthDate, now);
      if(!elapsed){ counterText.textContent = 'DoÄŸum tarihiniz gelecekte mi?'; return; }
      // build text
      const parts = [];
      if(elapsed.years) parts.push(elapsed.years + ' yÄ±l');
      if(elapsed.months) parts.push(elapsed.months + ' ay');
      // include weeks even if 0? The user asked for weeks explicitly.
      parts.push(elapsed.weeks + ' hafta');
      parts.push(elapsed.days + ' gÃ¼n');
      parts.push(elapsed.hours + ' saat');
      parts.push(elapsed.minutes + ' dakika');
      parts.push(elapsed.seconds + ' saniye');

      counterText.innerHTML = '<div>DoÄŸduÄŸundan beri:</div><div class="big-num">' + parts.join(' , ') + '</div>';
      // show slogan after at least 1 second (always)
      slogan.style.display = 'block';
    }
    update();
    liveInterval = setInterval(update, 1000);
  }

  // Accessibility: if user provides birth param, runCalculation already called on load.
  // Nothing else needed.

  // Helpful: detect paste of youtube url and auto extract
  ytInput.addEventListener('paste', () => {
    setTimeout(()=> {
      const id = extractYouTubeID(ytInput.value.trim());
      if(id){
        ytInput.value = 'https://www.youtube.com/watch?v='+id;
      }
    },100);
  });

  // small nicety: handle Enter key on date
  birthInput.addEventListener('keydown', (e) => { if(e.key === 'Enter') runCalculation(); });
  nameInput.addEventListener('keydown', (e) => { if(e.key === 'Enter') runCalculation(); });

</script>
</body>
</html>
